# tree-cli

ä¸€ä¸ªè·¨å¹³å°çš„ç›®å½•æ ‘æ˜¾ç¤ºå·¥å…·ï¼Œæ˜¯ Unix `tree` å‘½ä»¤çš„ç®€å•æ›¿ä»£æ–¹æ¡ˆã€‚

## ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**ï¼šä½¿ç”¨ Rust ç¼–å†™ï¼Œå•ç›®å½•è¯»å– < 30Âµsï¼Œå†…å­˜å ç”¨ä½
- ğŸ¨ **å½©è‰²è¾“å‡º**ï¼šæ”¯æŒå½©è‰²æ˜¾ç¤ºæ–‡ä»¶ç±»å‹ï¼ˆè“è‰²ç›®å½•ï¼Œçº¢è‰²å¯æ‰§è¡Œæ–‡ä»¶ï¼‰
- ğŸ” **æ¨¡å¼è¿‡æ»¤**ï¼šæ”¯æŒä½¿ç”¨ glob æ¨¡å¼è¿‡æ»¤æ–‡ä»¶
- ğŸ“Š **ç»Ÿè®¡ä¿¡æ¯**ï¼šæ˜¾ç¤ºç›®å½•å’Œæ–‡ä»¶çš„æ•°é‡ç»Ÿè®¡
- ğŸŒ **è·¨å¹³å°**ï¼šæ”¯æŒ Linuxã€macOS å’Œ Windows
- âš™ï¸ **çµæ´»é…ç½®**ï¼šæ”¯æŒå¤šç§é€‰é¡¹é…ç½®
- âœ… **å…¨é¢æµ‹è¯•**ï¼šåŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œæ€§èƒ½åŸºå‡†æµ‹è¯•
- ğŸ“ˆ **æ€§èƒ½ç›‘æ§**ï¼šä½¿ç”¨ Criterion è¿›è¡Œæ€§èƒ½å›å½’æ£€æµ‹

## å®‰è£…

### ä»æºç å®‰è£…

```bash
git clone https://github.com/kurisu994/tree-cli.git
cd tree-cli
cargo install --path .
```

### ä» GitHub å®‰è£…

```bash
cargo install --git https://github.com/kurisu994/tree-cli.git
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# æ˜¾ç¤ºå½“å‰ç›®å½•çš„æ ‘ç»“æ„
tree-cli

# æ˜¾ç¤ºæŒ‡å®šç›®å½•
tree-cli /path/to/directory

# æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰
tree-cli -a

# é™åˆ¶æ˜¾ç¤ºæ·±åº¦
tree-cli -L 2

# å¯ç”¨å½©è‰²è¾“å‡º
tree-cli -C

# ç¦ç”¨å½©è‰²è¾“å‡º
tree-cli -N

# ä½¿ç”¨æ¨¡å¼è¿‡æ»¤æ–‡ä»¶
tree-cli -P "*.rs"  # åªæ˜¾ç¤º Rust æºæ–‡ä»¶

# æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼ˆäººç±»å¯è¯»æ ¼å¼ï¼‰
tree-cli -s
```

### å‘½ä»¤è¡Œé€‰é¡¹

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° |
|------|--------|------|
| `-a` | `--all` | æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ |
| `-C` | `--color` | å¯ç”¨å½©è‰²è¾“å‡º |
| `-N` | `--no-color` | ç¦ç”¨å½©è‰²è¾“å‡º |
| `-s` | `--human-readable` | ä»¥äººç±»å¯è¯»æ ¼å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å° |
| `-P` | `--pattern <æ¨¡å¼>` | åªæ˜¾ç¤ºåŒ¹é…æŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ |
| `-L` | `--level <å±‚æ•°>` | é™åˆ¶ç›®å½•éå†æ·±åº¦ |
| `-h` | `--help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `-V` | `--version` | æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ |

### ç¤ºä¾‹

```shell
# åŸºæœ¬ç”¨æ³•
tree-cli

.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ config
â”‚   â””â”€â”€ config.toml
â”œâ”€â”€ rustfmt.toml
â””â”€â”€ src
    â”œâ”€â”€ core.rs
    â”œâ”€â”€ file_iterator.rs
    â”œâ”€â”€ filter.rs
    â”œâ”€â”€ main.rs
    â””â”€â”€ symbol.rs

3 directories, 11 files

# æ˜¾ç¤º Rust æºæ–‡ä»¶ï¼Œé™åˆ¶æ·±åº¦ä¸º 2
tree-cli -P "*.rs" -L 2

.
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â””â”€â”€ src
    â”œâ”€â”€ core.rs
    â”œâ”€â”€ file_iterator.rs
    â”œâ”€â”€ filter.rs
    â”œâ”€â”€ main.rs
    â””â”€â”€ symbol.rs

1 directories, 6 files

# æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰
tree-cli -a -L 1

.
â”œâ”€â”€ .git/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ config/
â”œâ”€â”€ rustfmt.toml
â”œâ”€â”€ src/
â””â”€â”€ target/

5 directories, 8 files

# æ˜¾ç¤ºæ–‡ä»¶å¤§å°
tree-cli -s -L 1

.
â”œâ”€â”€ .git/
â”œâ”€â”€ .gitignore [32B]
â”œâ”€â”€ Cargo.lock [2.1KB]
â”œâ”€â”€ Cargo.toml [185B]
â”œâ”€â”€ README.md [7.8KB]
â”œâ”€â”€ config/
â”œâ”€â”€ rustfmt.toml [23B]
â”œâ”€â”€ src/
â””â”€â”€ target/

5 directories, 8 files
```

## å¼€å‘

### æ„å»º

```bash
# æ„å»ºè°ƒè¯•ç‰ˆæœ¬
cargo build

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cargo build --release
```

### æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
cargo test

# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
cargo bench

# è¿è¡Œä»£ç æ£€æŸ¥
cargo clippy

# æ ¼å¼åŒ–ä»£ç 
cargo fmt
```

### æ€§èƒ½

tree-cli å…·æœ‰å‡ºè‰²çš„æ€§èƒ½è¡¨ç°ï¼š

- ğŸš€ **æå¿«çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®**ï¼šå•ç›®å½•è¯»å– < 30Âµs
- ğŸ’¾ **ä½å†…å­˜å ç”¨**ï¼šæµå¼å¤„ç†ï¼Œä¸é¢„åŠ è½½æ‰€æœ‰æ–‡ä»¶
- âš¡ **é«˜æ•ˆçš„é€’å½’éå†**ï¼šæ”¯æŒæ·±åº¦é™åˆ¶å’Œæ¨¡å¼è¿‡æ»¤
- ğŸ“ˆ **çº¿æ€§æ‰©å±•æ€§**ï¼šæ€§èƒ½éšç›®å½•å¤§å°çº¿æ€§å¢é•¿

è¯¦ç»†æ€§èƒ½æ•°æ®è¯·å‚è€ƒ [BENCHMARKS.md](BENCHMARKS.md)ã€‚

### æµ‹è¯•è¦†ç›–

tree-cli åŒ…å«å…¨é¢çš„æµ‹è¯•å¥—ä»¶ï¼š

- **å•å…ƒæµ‹è¯•**ï¼š36ä¸ªæµ‹è¯•ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- **é›†æˆæµ‹è¯•**ï¼š7ä¸ªæµ‹è¯•ï¼ŒéªŒè¯å‘½ä»¤è¡ŒåŠŸèƒ½
- **æ€§èƒ½åŸºå‡†æµ‹è¯•**ï¼šä½¿ç”¨ Criterion ç›‘æ§æ€§èƒ½å›å½’

è¿è¡Œæµ‹è¯•ï¼š
```bash
cargo test              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo bench             # è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
```

## é¡¹ç›®ç»“æ„

```
tree-cli/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs            # ç¨‹åºå…¥å£å’Œå‘½ä»¤è¡Œå‚æ•°è§£æ
â”‚   â”œâ”€â”€ lib.rs             # åº“å…¥å£ï¼Œå¯¼å‡ºæ‰€æœ‰æ¨¡å—
â”‚   â”œâ”€â”€ core.rs            # æ ¸å¿ƒé€»è¾‘å’Œç›®å½•æ ‘ç”Ÿæˆ
â”‚   â”œâ”€â”€ file_iterator.rs   # æ–‡ä»¶è¿­ä»£å™¨å®ç°
â”‚   â”œâ”€â”€ filter.rs          # æ–‡ä»¶è¿‡æ»¤é€»è¾‘
â”‚   â””â”€â”€ symbol.rs          # ç¬¦å·æ˜¾ç¤ºå’Œé¢œè‰²æ§åˆ¶
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test.rs            # åŸºç¡€æµ‹è¯•
â”‚   â””â”€â”€ integration_test.rs # é›†æˆæµ‹è¯•
â”œâ”€â”€ benches/
â”‚   â”œâ”€â”€ simple_perf.rs     # ç®€å•æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚   â”œâ”€â”€ performance.rs     # å…¨é¢æ€§èƒ½æµ‹è¯•
â”‚   â””â”€â”€ regression_simple.rs # æ€§èƒ½å›å½’æµ‹è¯•
â””â”€â”€ .github/workflows/
    â””â”€â”€ ci.yml             # CI/CD é…ç½®
```

## License

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ Rust 2024 edition
- éµå¾ª rustfmt æ ¼å¼åŒ–è§„åˆ™ï¼ˆæœ€å¤§è¡Œå®½ 120ï¼‰
- ä¸ºæ‰€æœ‰å…¬å¼€å‡½æ•°å’Œç»“æ„ä½“æ·»åŠ ä¸­æ–‡æ³¨é‡Š
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š`cargo test`
- è¿è¡Œä»£ç æ£€æŸ¥ï¼š`cargo clippy`